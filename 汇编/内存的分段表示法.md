# 内存的分段表示法



## 用分段的方式管理内存



- 8086CPU用“（段地址 x16）+ 偏移地址 = 物理地址”的方式给出内存单元的物理地址。
- ***<u>内存并没有分段，段的划分来自于CPU！！！</u>***



| 段地址区间  |     名称定义     | 容量大小  |
| :---------: | :--------------: | :-------: |
| 00000~9FFFF | 主存储器地址空间 | 640K  RAM |
| A0000~BFFFF |   显存地址空间   | 128K RAM  |
| C0000~FFFFF | 各类ROM地址空间  |   256KB   |

> 总量1M的内存空间



## 同一段内存，多种分段方案



10000H~100FFH

起始地址（基础地址）为10000H，段地址为1000H，大小为100H。



10000H~1007FH，10080H~100FFH

起始地址（基础地址）为10000H和10080H，段地址为1000H和1008H，大小均为80H。



- (1) 段地址 x16必然是16的倍数，所以一个段的起始地址也一定是16的倍数。
- (2) 偏移地址为16位，16位地址的寻址能力为64KB，所以一个段的长度最大为64KB。



## 用不同的段地址和偏移地址形成同一个物理地址



| 物理地址 | 段地址 | 偏移地址 |
| :------: | :----: | :------: |
|  21F60H  | 2000H  |  1F60H   |
|  21F60H  | 2100H  |  0F60H   |
|  21F60H  | 21F0H  |  0060H   |
|  21F60H  | 21F6H  |  0000H   |
|  21F60H  | 1F00H  |  2F60H   |



- 偏移地址16位，变化范围为0~FFFFH，用偏移地址最多寻址64KB。
- 例：给定段地址为2000H，用偏移地址寻址的范围是：20000H~2FFFFH，共64KB。



- 在8086PC机中存储单元地址的表示方法
  - 例：数据在21F60H内存单元中，段地址是2000H，说法
    - (a) 数据存在内存2000:1F60单元中。
    - (b) 数据存在内存的2000H段中的1F60单元中。



> 段地址很重要！用专门的寄存器存放段地址。

- 8086有4个段寄存器，分别是：
  - **CS（Code Segment）**：代码段寄存器，用于存储当前正在执行的代码段的起始地址。
  - **DS（Data Segment）**：数据段寄存器，用于存储数据段的起始地址。
  - **ES（Extra Segment）**：附加段寄存器，用于存储附加段的起始地址。
  - **SS（Stack Segment）**：堆栈段寄存器，用于存储堆栈的起始地址。

