# 用 div 指令实现除法



## div 指令



-   div 是除法指令，使用 div 作为除法的时候
    -   被除数：（默认）放在 AX 或 DX 和 AX 中
    -   除数：8 位或 16 位，在寄存器或内存单元中
    -   结果：......
-   div 指令格式
    -   div 寄存器
    -   div 内存单元



|  指令  |       8 位       |       16 位       |
| :----: | :--------------: | :---------------: |
| 被除数 |        AX        |      DX和AX       |
|  除数  | 8 位内存或寄存器 | 16 位内存或寄存器 |
|   商   |        AL        |        AX         |
|  余数  |        AH        |        DX         |



|         示例指令         |      被除数      |         除数          |  商  | 余数 |
| :----------------------: | :--------------: | :-------------------: | :--: | :--: |
|         `div bl`         |       (ax)       |         (bl)          | (al) | (ah) |
|  `div byte ptr ds:[0]`   |       (ax)       |      ((ds)*16+0)      | (al) | (ah) |
| `div byte ptr [bx+si+8]` |       (ax)       | ((ds)*16+(bx)+(si)+8) | (al) | (ah) |
|         `div bx`         | (dx)*10000H+(ax) |         (bx)          | (ax) | (dx) |
|  `div word ptr es:[0]`   | (dx)*10000H+(ax) |      ((es)*16+0)      | (ax) | (dx) |
| `div word ptr [bx+si+8]` | (dx)*10000H+(ax) | ((ds)*16+(bx)+(si)+8) | (ax) | (dx) |



>   [!NOTE]
>
>   除法的位数示例
>
>   6789H ÷ A2H : 商 A5, 余 FH
>
>   12345678H ÷ 2EF7H : 商 633AH, 余 2D82H



## div 指令示例



-   编程：利用除法指令计算 `100001 / 100`
-   分析：
    -   100001D = 186A1H
    -   需要进行 16 位的除法
    -   用 dx 和 ax 两个寄存器联合存放 186A1H
    -   用 bx 存放除数 100D = 64H



-   编程：利用除法指令计算 `1001 / 100`
-   分析
    -   进行 8 位除法即可
    -   在 ax 寄存器存放被除数 3E9H
    -   用 bx 存放除数 100D = 64H



## 在内存单元中实施除法



-   双字型数据的定义（示例）

    -   ```assembly
        data segment
            db 1          ; 定义字节型数据 01H, 在 data:0 处, 占 1 个字节
            dw 1          ; 定义字型数据 0001H, 在 data:1 处, 占 2 个字节
            dd 1          ; 定义双字型数据 00000001H, 在 data:3 处, 占 2 个字 (4 个字节)
        data ends
        ```

-   例：用 div 计算 data 段中的第一个数据除以第二个数据后的结果，商存放在第三个数的存储单元中

    -   ```assembly
        data segment
            db 100001
            dw 100
            dd 0
        data ends
        ```

    -   ```assembly
        mov ax,data
        mov ds,ax
        mov ax,ds:[0]
        mov dx,ds:[2]
        div word ptr ds:[4]
        mov ds:[6],ax
        ```

        
