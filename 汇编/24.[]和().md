# []和()



## [] 的规定与 () 的约定



- [] -------- (**汇编语法规定**) 表示一个内存单元



|    指令     |  段地址  |  偏移地址  | 操作单位 |
| :---------: | :------: | :--------: | :------: |
| mov ax,[0]  | 在 DS 中 | 在 [0] 中  |    字    |
| mov al,[0]  | 在 DS 中 | 在 [0] 中  |   字节   |
| mov ax,[bx] | 在 DS 中 | 在 [bx] 中 |    字    |
| mov al,[bx] | 在 DS 中 | 在 [bx] 中 |   字节   |



```mermaid
graph LR
    A([一个内存单元的描述]):::rootStyle --- B[内存单元的地址] & C["内存单元的长度(类型)"]
    subgraph 地址
        B --- D[段地址]
        B --- E[偏移地址]
    end
    classDef rootStyle fill:#bbf,color:#fff,font-weight: 600
```



- () --------（为了方便学习做出的约定）表示一个内存单元或寄存器中的内容



|      描述对象       |                 描述方法                 |          描述对象          |                 描述方法                 |
| :-----------------: | :--------------------------------------: | :------------------------: | :--------------------------------------: |
| ax 中的内容为 0010H |               (ax) = 0010H               | 2000:1000 处的内容为 0010H |             (21000H) = 0010H             |
|  mov ax,[2] 的功能  |            (ax) = ((ds)*16+2)            |     mov [2],ax 的功能      |            ((ds)*16+2) = (ax)            |
|   add ax,2 的功能   |              (ax) = (ax)+2               |      add ax,bx 的功能      |             (ax) = (ax)+(bx)             |
|   push ax 的功能    | (sp) = (sp)-2 <br> ((ss)*16+(sp)) = (ax) |       pop ax 的功能        | (ax) = ((ss)*16+(sp)) <br> (sp) = (sp)+2 |



## 再约定：符号 idata 表示常量



- 例

  - mov ax,[idata]：表示 mov ax,[1]、mov ax,[2]、mov ax,[3]、......

  - xxxxxxxxxx graph TB​A[源文件.asm] --> B[目标文件.obj] --> C[可执行文件.exe]mermaid#mermaidChart5{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart5 .error-icon{fill:#552222;}#mermaidChart5 .error-text{fill:#552222;stroke:#552222;}#mermaidChart5 .edge-thickness-normal{stroke-width:2px;}#mermaidChart5 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart5 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart5 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart5 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart5 .marker{fill:#333333;stroke:#333333;}#mermaidChart5 .marker.cross{stroke:#333333;}#mermaidChart5 svg{font-family:sans-serif;font-size:16px;}#mermaidChart5 .label{font-family:sans-serif;color:#333;}#mermaidChart5 .cluster-label text{fill:#333;}#mermaidChart5 .cluster-label span,#mermaidChart5 p{color:#333;}#mermaidChart5 .label text,#mermaidChart5 span,#mermaidChart5 p{fill:#333;color:#333;}#mermaidChart5 .node rect,#mermaidChart5 .node circle,#mermaidChart5 .node ellipse,#mermaidChart5 .node polygon,#mermaidChart5 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart5 .flowchart-label text{text-anchor:middle;}#mermaidChart5 .node .label{text-align:center;}#mermaidChart5 .node.clickable{cursor:pointer;}#mermaidChart5 .arrowheadPath{fill:#333333;}#mermaidChart5 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaidChart5 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart5 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart5 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart5 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaidChart5 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart5 .cluster text{fill:#333;}#mermaidChart5 .cluster span,#mermaidChart5 p{color:#333;}#mermaidChart5 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart5 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaidChart5 :root{--mermaid-alt-font-family:sans-serif;}源文件.asm目标文件.obj可执行文件.exe
  - mov ds,idata：表示 mov ds,1、mov ds,2、mov ds,3、......





## 案例分析



```assembly
mov ax,2000H
mov ds,ax
mov bx,1000H
mov ax,[bx]
inc bx
inc bx
mov [bx],ax
inc bx
inc bx
mov [bx],ax
inc bx
mov [bx],al
inc bx
```



```assembly
BE    21000H
00    21001H
BE    21002H
00    21003H
BE    21004H
BE    21005H
BE    21006H
      21007H
```

